# 本地代码测评工具使用说明

## 功能介绍

本工具是一个图形化的本地代码测评程序，可以：

1. **同步网站数据**：从考试系统网站同步学生编程题数据和测试样例
2. **本地测评**：在本地环境中执行学生代码并进行自动化测评
3. **结果管理**：显示测评结果并支持导出为CSV文件
4. **多语言支持**：支持Python、Java、C/C++等编程语言

## 安装要求

### Python环境
- Python 3.7 或更高版本
- tkinter（通常随Python自带）

### 编程语言环境（根据需要安装）
- **Python**：确保系统中有 `python3` 命令
- **Java**：安装JDK，确保有 `javac` 和 `java` 命令
- **C/C++**：安装GCC编译器，确保有 `gcc` 和 `g++` 命令

### 安装依赖

```bash
pip install -r requirements_local_judge.txt
```

## 使用步骤

### 1. 启动程序

```bash
python3 local_judge_tool.py
```

### 2. 配置服务器连接

1. 在"服务器配置"区域输入考试系统的地址（如：`http://localhost:3000`）
2. **邮箱**：输入您的登录邮箱
3. **密码**：输入您的登录密码
4. 点击"登录"进行身份验证
5. 点击"测试连接"验证登录状态

### 3. 同步考试数据

1. 确保已成功登录
2. 点击"同步数据"按钮
3. 程序会从服务器获取所有考试列表
4. 同步成功后，考试选择下拉框会显示可用的考试

### 4. 选择和加载考试

1. 从下拉框中选择要测评的考试
2. 点击"加载考试"按钮获取详细信息
3. 程序会显示编程题数量和学生答案数量

### 5. 开始批量测评

1. 点击"开始批量测评"按钮
2. 程序会自动：
   - 遍历所有学生的编程题答案
   - 使用配置的测试用例进行测评
   - 实时显示测评进度
   - 在结果表格中显示测评结果

### 6. 查看和导出结果

- **查看结果**：在"测评结果"表格中查看详细信息
- **导出结果**：点击"导出结果"按钮，将结果保存为CSV文件
- **清空结果**：点击"清空结果"按钮清除当前结果

## 结果说明

测评结果包含以下信息：

- **学生**：学生姓名
- **题目**：编程题标题
- **语言**：使用的编程语言
- **状态**：
  - `通过`：所有测试用例通过
  - `部分通过(x/y)`：部分测试用例通过
  - `失败`：所有测试用例失败
  - `评测错误`：测评过程中出现错误
- **得分**：通过测试用例的百分比
- **执行时间**：代码执行时间（毫秒）
- **错误信息**：编译错误或运行时错误信息

## 支持的编程语言

| 语言 | 文件扩展名 | 编译器/解释器 | 说明 |
|------|------------|---------------|------|
| Python | .py | python3 | 直接解释执行 |
| Java | .java | javac + java | 需要编译后执行 |
| C | .c | gcc | 需要编译后执行 |
| C++ | .cpp | g++ | 需要编译后执行 |

## 注意事项

1. **安全性**：本工具会在本地执行学生代码，请确保在安全的环境中运行
2. **超时设置**：代码执行超时时间设为5秒，编译超时时间设为10秒
3. **资源限制**：目前没有内存限制，建议在资源充足的环境中运行
4. **网络连接**：需要稳定的网络连接来同步数据
5. **登录权限**：需要教师账户才能访问考试数据
6. **权限要求**：确保有足够的权限创建临时文件和执行编译器

## 故障排除

### 连接问题
- 检查服务器地址是否正确
- 确认网络连接正常
- 检查邮箱和密码是否正确，账户是否具有教师权限

### 编译问题
- 确保相应的编译器已正确安装
- 检查系统PATH环境变量
- 验证编译器版本兼容性

### 执行问题
- 检查代码语法是否正确
- 确认测试用例格式正确
- 查看错误信息获取详细信息

## 技术支持

如果遇到问题，请检查：
1. Python版本和依赖包是否正确安装
2. 编程语言环境是否配置正确
3. 网络连接和服务器配置是否正常
4. 查看程序状态栏的错误信息

## 更新日志

### v1.0.0
- 初始版本
- 支持Python、Java、C/C++代码测评
- 图形化界面
- 批量测评功能
- 结果导出功能